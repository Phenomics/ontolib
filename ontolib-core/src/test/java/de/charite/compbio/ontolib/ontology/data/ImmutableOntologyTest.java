package de.charite.compbio.ontolib.ontology.data;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertTrue;

import org.junit.Test;

public class ImmutableOntologyTest extends ImmutableOntologyTestBase {

  @Test
  public void test() {
    assertEquals("{}", ontology.getMetaInfo().toString());
    assertEquals(
        "ImmutableDirectedGraph [edgeLists={ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=1]=ImmutableVertexEdgeList [inEdges=[], outEdges=[ImmutableEdge [source=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=1], dest=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=2], id=1], ImmutableEdge [source=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=1], dest=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=3], id=2], ImmutableEdge [source=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=1], dest=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=4], id=3]]], ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=2]=ImmutableVertexEdgeList [inEdges=[ImmutableEdge [source=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=1], dest=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=2], id=1]], outEdges=[ImmutableEdge [source=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=2], dest=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=5], id=4]]], ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=3]=ImmutableVertexEdgeList [inEdges=[ImmutableEdge [source=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=1], dest=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=3], id=2]], outEdges=[ImmutableEdge [source=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=3], dest=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=5], id=5]]], ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=4]=ImmutableVertexEdgeList [inEdges=[ImmutableEdge [source=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=1], dest=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=4], id=3]], outEdges=[ImmutableEdge [source=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=4], dest=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=5], id=6]]], ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=5]=ImmutableVertexEdgeList [inEdges=[ImmutableEdge [source=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=2], dest=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=5], id=4], ImmutableEdge [source=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=3], dest=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=5], id=5], ImmutableEdge [source=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=4], dest=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=5], id=6]], outEdges=[]]}, edgeCount=6]",
        ontology.getGraph().toString());
    assertEquals(
        "{ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=1]=TestTerm [termId=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=1], altTermIds=[], name=term1, definition=some definition 1, comment=null, subsets=[], termSynonyms=[], obsolete=false, createdBy=null, creationDate=null], ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=2]=TestTerm [termId=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=2], altTermIds=[], name=term2, definition=some definition 2, comment=null, subsets=[], termSynonyms=[], obsolete=false, createdBy=null, creationDate=null], ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=3]=TestTerm [termId=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=3], altTermIds=[], name=term3, definition=some definition 3, comment=null, subsets=[], termSynonyms=[], obsolete=false, createdBy=null, creationDate=null], ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=4]=TestTerm [termId=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=4], altTermIds=[], name=term4, definition=some definition 4, comment=null, subsets=[], termSynonyms=[], obsolete=false, createdBy=null, creationDate=null], ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=5]=TestTerm [termId=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=5], altTermIds=[], name=term5, definition=some definition 5, comment=null, subsets=[], termSynonyms=[], obsolete=false, createdBy=null, creationDate=null]}",
        ontology.getTermMap().toString());
    assertEquals(
        "{1=TestTermRelation [source=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=1], dest=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=2], id=1], 2=TestTermRelation [source=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=1], dest=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=3], id=2], 3=TestTermRelation [source=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=1], dest=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=4], id=3], 4=TestTermRelation [source=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=2], dest=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=5], id=4], 5=TestTermRelation [source=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=3], dest=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=5], id=5], 6=TestTermRelation [source=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=4], dest=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=5], id=6]}",
        ontology.getRelationMap().toString());
    assertTrue(ontology.isRootTerm(id5));
    assertEquals(
        "[ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=1], ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=2], ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=3], ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=4], ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=5]]",
        ontology.getAllTermIds().toString());
    assertEquals(
        "[TestTerm [termId=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=1], altTermIds=[], name=term1, definition=some definition 1, comment=null, subsets=[], termSynonyms=[], obsolete=false, createdBy=null, creationDate=null], TestTerm [termId=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=2], altTermIds=[], name=term2, definition=some definition 2, comment=null, subsets=[], termSynonyms=[], obsolete=false, createdBy=null, creationDate=null], TestTerm [termId=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=3], altTermIds=[], name=term3, definition=some definition 3, comment=null, subsets=[], termSynonyms=[], obsolete=false, createdBy=null, creationDate=null], TestTerm [termId=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=4], altTermIds=[], name=term4, definition=some definition 4, comment=null, subsets=[], termSynonyms=[], obsolete=false, createdBy=null, creationDate=null], TestTerm [termId=ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=5], altTermIds=[], name=term5, definition=some definition 5, comment=null, subsets=[], termSynonyms=[], obsolete=false, createdBy=null, creationDate=null]]",
        ontology.getTerms().toString());
    assertEquals(5, ontology.countTerms());
    assertEquals("{}", ontology.getObsoleteTermMap().toString());
    assertEquals(
        "[ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=1], ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=2], ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=3], ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=4], ImmutableTermId [prefix=ImmutableTermPrefix [value=HP], id=5]]",
        ontology.getNonObsoleteTermIds().toString());
    assertEquals("[]", ontology.getObsoleteTermIds().toString());
  }

}
